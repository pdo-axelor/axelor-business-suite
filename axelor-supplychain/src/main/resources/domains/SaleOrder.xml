<?xml version="1.0" encoding="UTF-8"?>
<domain-models xmlns="http://axelor.com/xml/ns/domain-models"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/domain-models http://axelor.com/xml/ns/domain-models/domain-models_5.0.xsd">

  <module name="sale" package="com.axelor.apps.sale.db"/>

    <entity name="SaleOrder" lang="java">

        <many-to-one name="paymentMode" ref="com.axelor.apps.account.db.PaymentMode" title="Payment mode"/>
        <many-to-one name="paymentCondition" ref="com.axelor.apps.account.db.PaymentCondition" title="Payment condition"/>

        <many-to-one name="stockLocation" ref="com.axelor.apps.stock.db.StockLocation" title="Stock location"/>
        <date name="shipmentDate" title="Date of shipment" />
        <decimal name="amountInvoiced" title="Amount invoiced W.T." readonly="true"/>
        <boolean name="subscription" title="Subscription"/>
        <!-- 	Onglet échéancier -->
        <one-to-many name="saleOrderScheduleLineList" ref="com.axelor.apps.sale.db.SaleOrderScheduleLine" mappedBy="saleOrder" title="Schedule line list"/>
        <integer name="periodicity" selection="product.periodicity.subscription.select"/>
        <date name="fromSubDate" title="Date From"/>
        <integer name="periodNumber" title="Number of Periods"/>
        <date name="toSubDate" title="Date To"/>
        <integer name="subscripInvTypeSelect" title="Invoicing Type" selection="supplychain.subscription.invoicing.type.select"/>
        <one-to-many name="timetableList" ref="com.axelor.apps.supplychain.db.Timetable" title="Timetable" mappedBy="saleOrder"/>
        <boolean name="interco" title="Interco"/>
        <boolean name="createdByInterco" default="false"/>
        <date name="expectedRealisationDate" title="Expected realisation date"/>
        <integer name="standardDelay" title="Standard delay (days)" default="0"  />
        <one-to-many name="stockMoveList" ref="com.axelor.apps.stock.db.StockMove" mappedBy="saleOrder" title="Stock moves" />

        <extra-code>
            <![CDATA[
                public static final int SUBSCRIPTION_PERIOD_BEGINNING = 1;
                public static final int SUBSCRIPTION_PERIOD_ENDING = 2;

                public static final int INVOICE_ALL = 1;
                public static final int INVOICE_PART = 2;
                public static final int INVOICE_LINES = 3;
                public static final int INVOICE_ADVANCE_PAYMENT = 4;
            ]]>
        </extra-code>
	
    </entity>

</domain-models>
